"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[916],{3916:function(t,a,e){e.r(a),e.d(a,{default:function(){return z}});var s=e(3396);const n={class:"task-view"};function i(t,a,e,i,o,d){const c=(0,s.up)("Header"),l=(0,s.up)("Tasks");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(c),(0,s.Wm)(l)])}var o=e(7139);const d=t=>((0,s.dD)("data-v-4ec63068"),t=t(),(0,s.Cn)(),t),c={class:"navbar navbar-expand-lg navbar-light",style:{"background-color":"#00ac96"}},l={class:"container-fluid",id:"navbarNav"},r=d((()=>(0,s._)("h1",{class:"navbar-brand fs-3"},"To-Do List",-1))),u={class:"align-items-center"},k={class:"d-inline name"};function m(t,a,e,n,i,d){const m=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("nav",c,[(0,s._)("div",l,[r,(0,s._)("div",u,[(0,s._)("p",k,(0,o.zw)(i.name),1),(0,s._)("button",{class:"btn",onClick:a[0]||(a[0]=(...t)=>d.logout&&d.logout(...t))},[(0,s.Wm)(m,{class:"icon",icon:["fas","fa-right-from-bracket"]})])])])])}e(7658);var g={name:"Header",data(){return{name:""}},methods:{logout(){this.$router.push("/"),localStorage.clear()}},mounted(){const t=JSON.parse(localStorage.getItem("userData"));this.name=t.name}},p=e(89);const h=(0,p.Z)(g,[["render",m],["__scopeId","data-v-4ec63068"]]);var b=h,f=e(9242);const v={class:"add-task input-group mb-3"},T={class:"list-group"},w={class:"form-check"},y=["id","name","checked"],_=["for"],I=["value","name","id","disabled"],D=["id"];function S(t,a,e,n,i,d){const c=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",v,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=t=>i.taskInput=t),placeholder:"Adicione uma tarefa","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,512),[[f.nr,i.taskInput]]),(0,s._)("button",{class:"btn add-button",type:"button",id:"button-addon2",onClick:a[1]||(a[1]=(...t)=>d.createTask&&d.createTask(...t))},(0,o.zw)(i.addButton),1)]),(0,s._)("ul",T,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.allTasks,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"list-group-item d-flex justify-content-between align-items-center each-task",key:t.id},[(0,s._)("div",w,[(0,s._)("input",{type:"checkbox",id:t.id,name:t.item,onClick:a[2]||(a[2]=(...t)=>d.changeStatus&&d.changeStatus(...t)),checked:"Concluído"==t.status,class:"form-check-input"},null,8,y),(0,s._)("label",{for:t.id,class:"form-check-label"},(0,o.zw)(t.item),9,_)]),(0,s._)("div",null,[(0,s._)("button",{type:"button",value:t.status,name:t.item,id:t.id,onClick:a[3]||(a[3]=(...t)=>d.updateTask&&d.updateTask(...t)),disabled:i.isEditButtonsDisabled,class:"btn btn-light btn-sm me-2 edit-btn"},[(0,s.Wm)(c,{style:{"pointer-events":"none"},icon:"edit"})],8,I),(0,s._)("button",{type:"button",class:"btn btn-light btn-sm delete-btn",id:t.id,onClick:a[4]||(a[4]=(...t)=>d.deleteTask&&d.deleteTask(...t))},[(0,s.Wm)(c,{style:{"pointer-events":"none"},icon:"trash"})],8,D)])])))),128))])])}var C=e(3190),B={name:"Tasks",data(){return{allTasks:null,addButton:"Adicionar tarefa",taskInput:"",taskStatus:"",isEditButtonsDisabled:!1,editTask:"null"}},components:{Header:b},methods:{async getTasks(){try{const t=JSON.parse(localStorage.getItem("userData")),a=await C.Z.get(`/tasks/${t.id}`);this.allTasks=a.data}catch(t){console.log(t?.response?.data.message)}},async changeStatus(t){try{t.target.checked?await C.Z.put("/tasks/"+ +t.target.id,{id:t.target.id,item:t.target.name,status:"Concluído"}):await C.Z.put("/tasks/"+ +t.target.id,{id:t.target.id,item:t.target.name,status:"Pendente"})}catch(a){console.log(a?.response?.data.message)}},async deleteTask(t){try{await C.Z["delete"]("/tasks/"+ +t.target.id),console.log(t.target.id),this.getTasks()}catch(a){console.log(a?.response?.data.message)}},async createTask(){if(0===this.taskInput.length)return alert("O campo de tarefa está vazio!");try{if("Adicionar tarefa"===this.addButton){const t=JSON.parse(localStorage.getItem("userData"));await C.Z.post(`/tasks/${t.id}`,{item:this.taskInput,status:"Pendente",userId:t.id}),this.getTasks(),this.taskInput=""}else await C.Z.put("/tasks/"+ +this.editTask,{item:this.taskInput,status:this.taskStatus,userId:this.editTask}),this.getTasks(),this.isEditButtonsDisabled=!1,this.taskInput="",this.taskStatus="",this.addButton="Adicionar tarefa"}catch(t){console.log(t?.response?.data.message)}},async updateTask(t){const{name:a,value:e,id:s}=t.target;this.isEditButtonsDisabled=!0,this.addButton="Concluir alterações",this.taskInput=a,this.taskStatus=e,this.editTask=s}},mounted(){this.getTasks()}};const Z=(0,p.Z)(B,[["render",S],["__scopeId","data-v-62d9c2c8"]]);var H=Z,W={components:{Header:b,Tasks:H}};const x=(0,p.Z)(W,[["render",i]]);var z=x}}]);
//# sourceMappingURL=916.a66cbd00.js.map